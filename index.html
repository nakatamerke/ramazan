<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ramazan Bereketi</title>
    
    <!-- Tailwind CSS (HÄ±zlÄ± Stil) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons (Ä°konlar Ä°Ã§in) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; }
        
        /* Animasyonlar */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes bounce-slow {
            0%, 100% { transform: translateY(-5%); animation-timing-function: cubic-bezier(0.8, 0, 1, 1); }
            50% { transform: translateY(0); animation-timing-function: cubic-bezier(0, 0, 0.2, 1); }
        }

        .animate-fadeIn { animation: fadeIn 0.5s ease-out; }
        .animate-slideUp { animation: slideUp 0.5s ease-out; }
        .animate-bounce-slow { animation: bounce-slow 2s infinite; }

        /* KaydÄ±rma Ã‡ubuÄŸu Gizleme (Estetik Ä°Ã§in) */
        ::-webkit-scrollbar { width: 0px; background: transparent; }
    </style>
</head>
<body class="min-h-screen bg-slate-50 text-slate-800 flex flex-col items-center p-4 relative overflow-x-hidden">

    <!-- YeÅŸil Header Arka PlanÄ± -->
    <div class="absolute top-0 left-0 w-full h-64 bg-emerald-700 rounded-b-[40px] shadow-lg z-0"></div>

    <div class="w-full max-w-md relative z-10 mt-6 pb-12">

        <!-- GeliÅŸtirici TanÄ±tÄ±m KartÄ± -->
        <a href="https://www.instagram.com/ekrematakan?igsh=MTNuOHpsZnd6ZHhheQ==" target="_blank" rel="noopener noreferrer" class="mx-auto mb-6 block w-fit">
            <div class="bg-white/90 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg border border-emerald-100 flex items-center gap-3 transition-transform hover:scale-105 active:scale-95 group cursor-pointer">
                <div class="bg-gradient-to-tr from-purple-500 to-orange-500 p-1.5 rounded-full text-white shadow-sm">
                    <i data-lucide="instagram" class="w-4 h-4"></i>
                </div>
                <div class="text-left leading-tight">
                    <p class="text-[10px] text-emerald-800 font-bold uppercase tracking-wider">HazÄ±rlayan</p>
                    <p class="text-xs font-bold text-slate-700 group-hover:text-emerald-600 transition-colors">Ekrem Atakan</p>
                </div>
                <i data-lucide="chevron-right" class="w-4 h-4 text-slate-400 group-hover:translate-x-1 transition-transform ml-1"></i>
            </div>
        </a>

        <!-- Header Logo Area -->
        <div class="flex flex-col items-center justify-center gap-3 mb-8 text-center">
            <div class="bg-white/20 p-3 rounded-2xl backdrop-blur-sm shadow-xl ring-4 ring-emerald-600/30">
                <i data-lucide="utensils" class="w-8 h-8 text-white"></i>
            </div>
            <div>
                <h1 class="text-2xl font-bold text-white tracking-wide">Ramazan Bereketi</h1>
                <div class="flex items-center justify-center gap-2 text-emerald-100 text-xs mt-1 font-medium bg-emerald-800/30 px-3 py-1 rounded-full border border-emerald-600/30">
                    <i data-lucide="calendar" class="w-3 h-3"></i>
                    <span id="currentDateDisplay">...</span>
                </div>
            </div>
        </div>

        <!-- ANA Ä°ÅLEM KARTI -->
        <div class="bg-white rounded-3xl shadow-xl overflow-hidden border border-slate-100 min-h-[400px]">
            <div class="p-6">
                
                <!-- STEP 1: GÄ°RÄ°Å EKRANI -->
                <div id="step1" class="space-y-8 animate-fadeIn">
                    
                    <!-- Soru 1 -->
                    <div class="space-y-3">
                        <label class="flex items-center gap-3 text-lg font-bold text-slate-800">
                            <div class="w-8 h-8 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-700 text-sm">1</div>
                            Bu akÅŸam kaÃ§ kiÅŸiyiz?
                        </label>
                        <div class="bg-slate-50 p-5 rounded-2xl border border-slate-200 hover:border-emerald-300 transition-colors">
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-slate-500 font-medium text-sm">KiÅŸi SayÄ±sÄ±</span>
                                <span id="peopleCountDisplay" class="bg-emerald-600 text-white px-4 py-1.5 rounded-lg font-bold text-xl shadow-md">2</span>
                            </div>
                            <input type="range" id="peopleRange" min="1" max="15" value="2" class="w-full h-3 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-emerald-600">
                        </div>
                    </div>

                    <!-- Soru 2 -->
                    <div class="space-y-3">
                        <label class="flex items-center gap-3 text-lg font-bold text-slate-800">
                            <div class="w-8 h-8 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-700 text-sm">2</div>
                            Yemek iÃ§in ne kadar bÃ¼tÃ§emiz var?
                        </label>
                        <div class="relative">
                            <input type="number" id="budgetInput" placeholder="Ã–rn: 2000" class="w-full pl-5 pr-12 py-4 rounded-2xl border-2 border-slate-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-100 outline-none transition-all text-2xl font-bold text-slate-700 placeholder:text-slate-300">
                            <span class="absolute right-5 top-1/2 -translate-y-1/2 text-slate-400 font-bold text-xl">TL</span>
                        </div>
                        <p class="text-xs text-slate-400 pl-2">*AlÄ±ÅŸveriÅŸ iÃ§in harcamayÄ± dÃ¼ÅŸÃ¼ndÃ¼ÄŸÃ¼n toplam para.</p>
                    </div>

                    <button id="calcBtn" class="w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-4 rounded-2xl shadow-lg shadow-emerald-200 transition-all active:scale-95 flex items-center justify-center gap-2 text-lg disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                        <i data-lucide="calculator" class="w-6 h-6"></i>
                        Hesapla BakalÄ±m
                    </button>
                </div>

                <!-- STEP 2: SONUÃ‡ EKRANI (BaÅŸta Gizli) -->
                <div id="step2" class="hidden space-y-6 animate-slideUp">
                    
                    <!-- 1. KISIM: MENÃœ LÄ°STESÄ° -->
                    <div class="bg-white border-2 border-orange-100 rounded-2xl shadow-sm overflow-hidden mb-6 relative">
                        <div class="bg-orange-50 p-4 border-b border-orange-100 flex justify-between items-center">
                            <div>
                                <h3 class="font-bold text-orange-800 flex items-center gap-2">
                                    <i data-lucide="utensils" class="w-5 h-5"></i>
                                    Ä°ftar MenÃ¼mÃ¼z
                                </h3>
                                <p class="text-xs text-orange-600 mt-0.5 ml-7">Tarif iÃ§in yemeÄŸe tÄ±kla ğŸ‘‡</p>
                            </div>
                            <button id="refreshMenuBtn" class="text-orange-600 bg-white p-2 rounded-lg border border-orange-200 text-xs font-bold hover:bg-orange-100 transition-colors flex items-center gap-1 active:scale-95 shadow-sm">
                                <i data-lucide="refresh-ccw" class="w-3 h-3"></i> DeÄŸiÅŸtir
                            </button>
                        </div>
                        
                        <!-- MenÃ¼ Ä°Ã§eriÄŸi (JS ile Doldurulacak) -->
                        <div id="menuContainer" class="p-4 space-y-3"></div>
                    </div>

                    <!-- 2. KISIM: HESAP VE BAÄIÅ -->
                    <div id="resultCard" class="bg-gradient-to-br from-emerald-50 to-white border border-emerald-100 rounded-2xl p-5 shadow-sm text-center">
                        <p class="text-slate-600 mb-4 text-sm leading-relaxed">
                            Bu zengin iftar sofrasÄ±nÄ± <strong id="resPeople">2 kiÅŸilik</strong> bir ziyafete dÃ¶nÃ¼ÅŸtÃ¼rmek, gÃ¼ncel market fiyatlarÄ±yla ortalama <strong id="resCost">0 TL</strong> tutuyor.
                        </p>

                        <!-- BaÄŸÄ±ÅŸ AlanÄ± (JS ile GÃ¶sterilecek) -->
                        <div id="donationSection" class="hidden bg-white rounded-xl border-2 border-emerald-100 p-4 shadow-sm relative overflow-hidden">
                            <div class="flex flex-col items-center gap-2 mb-3">
                                <div class="bg-emerald-100 p-2 rounded-full text-emerald-700">
                                    <i data-lucide="hand-heart" class="w-6 h-6"></i>
                                </div>
                                <div>
                                    <p class="text-xs text-slate-500 uppercase font-bold tracking-wider">Cebinde Kalan</p>
                                    <p id="resDonation" class="text-3xl font-black text-emerald-600">0 TL</p>
                                </div>
                            </div>
                            
                            <p class="text-sm text-slate-600 mb-4 font-medium">
                                "SofranÄ± kurdun, ÅŸimdi gÃ¶nÃ¼lleri yapma vakti."
                                <br><span class="text-xs font-normal text-slate-500">Bu bereketi paylaÅŸmak ister misin?</span>
                            </p>

                            <div class="grid grid-cols-2 gap-3">
                                <a href="https://bagis.tdv.org/fitre" target="_blank" class="flex flex-col items-center justify-center gap-1 bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-bold py-3 px-2 rounded-xl transition-colors text-center shadow-sm active:scale-95 group">
                                    <i data-lucide="heart-handshake" class="w-4 h-4 group-hover:scale-110 transition-transform"></i>
                                    Fitre BaÄŸÄ±ÅŸÄ± Yap
                                    <span class="opacity-70 text-[10px] font-normal flex items-center gap-0.5">(Linke Git <i data-lucide="external-link" class="w-2 h-2"></i>)</span>
                                </a>
                                <a href="https://bagis.tdv.org/genel-bagis" target="_blank" class="flex flex-col items-center justify-center gap-1 bg-white border-2 border-emerald-200 text-emerald-700 hover:bg-emerald-50 text-xs font-bold py-3 px-2 rounded-xl transition-colors text-center shadow-sm active:scale-95 group">
                                    <i data-lucide="heart" class="w-4 h-4 group-hover:scale-110 transition-transform"></i>
                                    Sadaka Ver
                                    <span class="opacity-70 text-[10px] font-normal flex items-center gap-0.5">(Linke Git <i data-lucide="external-link" class="w-2 h-2"></i>)</span>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- 3. KISIM: GÃœNÃœN MANEVÄ° NOTU -->
                    <div class="bg-emerald-50 p-4 rounded-xl border border-emerald-100 flex gap-3 items-start">
                        <i data-lucide="quote" class="w-6 h-6 text-emerald-400 shrink-0"></i>
                        <div>
                            <p class="text-xs font-bold text-emerald-800 uppercase mb-1">GÃ¼nÃ¼n Manevi Notu</p>
                            <p id="spiritualNote" class="text-sm text-emerald-700 italic">"..."</p>
                        </div>
                    </div>

                    <!-- ALT BUTONLAR -->
                    <div class="grid grid-cols-1 gap-3">
                        <button id="whatsappBtn" class="w-full bg-[#25D366] hover:bg-[#20bd5a] text-white font-bold py-3.5 rounded-xl shadow-md shadow-green-100 transition-all active:scale-95 flex items-center justify-center gap-2">
                            <i data-lucide="message-circle" class="w-5 h-5 fill-current"></i>
                            WhatsApp'ta PaylaÅŸ
                        </button>
                        <button id="resetBtn" class="w-full text-slate-400 hover:text-slate-600 py-3 text-sm font-medium transition-colors flex items-center justify-center gap-1 active:scale-95">
                            <i data-lucide="chevron-left" class="w-4 h-4"></i> BaÅŸka Hesap Yap
                        </button>
                    </div>

                </div>
            </div>
        </div>

        <!-- TARÄ°F MODALI (POP-UP) -->
        <div id="recipeModal" class="hidden fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fadeIn">
            <div class="bg-white rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl relative" onclick="event.stopPropagation()">
                <div class="bg-orange-50 p-4 border-b border-orange-100 flex justify-between items-center">
                    <h3 id="modalTitle" class="font-bold text-orange-900 flex items-center gap-2">
                        <i data-lucide="chef-hat" class="w-5 h-5 text-orange-500"></i>
                        Yemek AdÄ±
                    </h3>
                    <button id="closeModalBtn" class="p-1 rounded-full hover:bg-orange-200 transition-colors">
                        <i data-lucide="x" class="w-5 h-5 text-orange-800"></i>
                    </button>
                </div>
                <div class="p-6">
                    <div class="flex items-start gap-3 mb-4">
                        <div class="bg-orange-100 p-2 rounded-lg">
                            <i data-lucide="book-open" class="w-6 h-6 text-orange-600"></i>
                        </div>
                        <div>
                            <p class="text-xs text-slate-400 font-bold uppercase tracking-wider mb-1">NasÄ±l YapÄ±lÄ±r?</p>
                            <p id="modalDesc" class="text-slate-700 text-sm leading-relaxed">Tarif burada...</p>
                        </div>
                    </div>
                    <button id="closeModalMainBtn" class="w-full bg-orange-600 text-white py-3 rounded-xl font-bold text-sm hover:bg-orange-700 transition-colors">
                        TamamdÄ±r Åef! ğŸ‘¨â€ğŸ³
                    </button>
                </div>
            </div>
        </div>

        <!-- DÄ°KKAT Ã‡EKÄ°CÄ° NUDGE (AÅAÄI BAK UYARISI) -->
        <div id="nudge" class="hidden fixed inset-0 z-[60] pointer-events-none flex flex-col items-center justify-end pb-12 bg-black/20 backdrop-blur-[2px] animate-fadeIn transition-opacity duration-500">
             <div class="bg-emerald-600 text-white px-6 py-4 rounded-2xl shadow-2xl animate-bounce-slow flex flex-col items-center gap-2 max-w-[80%] text-center">
               <span class="font-bold text-lg">MenÃ¼n HazÄ±r! ğŸ˜‹</span>
               <span class="text-sm font-medium opacity-90 flex items-center gap-2">
                 Artan bereketi senin iÃ§in aÅŸaÄŸÄ±ya ekledik
                 <i data-lucide="arrow-down" class="w-4 h-4"></i>
               </span>
             </div>
        </div>

    </div>

    <div class="mt-auto py-6 text-center z-10 opacity-70">
        <p class="text-xs text-slate-500 font-medium">HayÄ±rlÄ± Ramazanlar âœ¨</p>
    </div>

    <!-- JAVASCRIPT MANTIÄI -->
    <script>
        // --- VERÄ°TABANI ---
        const MODEST_MEAL_COST_PER_PERSON = 315;

        const SPIRITUAL_NOTES = [
            "KomÅŸusu aÃ§ken tok yatan bizden deÄŸildir.",
            "Veren el, alan elden Ã¼stÃ¼ndÃ¼r.",
            "Az sadaka Ã§ok belayÄ± def eder.",
            "TebessÃ¼m etmek sadakadÄ±r.",
            "OruÃ§ sabrÄ±n yarÄ±sÄ±dÄ±r.",
            "Ä°sraf etmeyin, Allah israf edenleri sevmez.",
            "En hayÄ±rlÄ± sofra, Ã¼zerinde elin Ã§ok olduÄŸu sofradÄ±r."
        ];

        const MENU_DATABASE = [
            {
                soup: { name: "Ã‡eÅŸmi Nigar Ã‡orbasÄ±", recipe: "MercimeÄŸi soÄŸanla haÅŸla. AyrÄ± yerde un, yumurta sarÄ±sÄ±, limon ve sÃ¼tle terbiye yap. Ã‡orbaya yavaÅŸÃ§a ekle, Ã¼zerine naneli yaÄŸ yak." },
                main: { name: "HÃ¼nkar BeÄŸendi (Tavuklu)", recipe: "TavuklarÄ± sotele. KÃ¶zlenmiÅŸ patlÄ±canÄ± ez, beÅŸamel sosla (un, yaÄŸ, sÃ¼t) karÄ±ÅŸtÄ±rÄ±p beÄŸendi yap. TavuklarÄ± Ã¼zerine koy." },
                side: { name: "Mevsim SalatasÄ±", recipe: "Marul, roka, havuÃ§ ne varsa doÄŸra. Sosu iÃ§in: Limon, zeytinyaÄŸÄ±, az nar ekÅŸisi ve tuzu Ã§Ä±rpÄ±p dÃ¶k." },
                dessert: { name: "GÃ¼llaÃ§", recipe: "SÃ¼tÃ¼ ÅŸekerle Ä±sÄ±t (kaynatma, el yakmasÄ±n). GÃ¼llaÃ§ yapraklarÄ±nÄ± Ä±slatÄ±p tepsiye diz, araya ceviz serp. Kalan sÃ¼tÃ¼ dÃ¶k, dinlendir." },
                drink: { name: "GÃ¼l Åerbeti", recipe: "GÃ¼l yapraklarÄ±nÄ± limon tuzu ve ÅŸekerle ov, su ekleyip beklet. SÃ¼zÃ¼nce rengi pembeleÅŸir, buzla servis et." },
                tip: "BeÄŸendi iÃ§in patlÄ±canlarÄ± ocakta kÃ¶zlersen o is tadÄ± yemeÄŸi saray mutfaÄŸÄ±na Ã§evirir.",
            },
            {
                soup: { name: "SÃ¼zme Mercimek Ã‡orbasÄ±", recipe: "Mercimek, patates, havucu haÅŸla. Blenderdan geÃ§ir. KÄ±vamÄ± koyuysa sÄ±cak su ekle. Ãœzerine tereyaÄŸlÄ± toz biber dÃ¶k." },
                main: { name: "Ä°slim KebabÄ±", recipe: "KÃ¶fteleri kÄ±zart. PatlÄ±canlarÄ± uzun dilimleyip kÄ±zart. Ä°ki patlÄ±canÄ± artÄ± (+) yap, ortasÄ±na kÃ¶fte koy, kapat. KÃ¼rdanla tuttur, fÄ±rÄ±nla." },
                side: { name: "Åehriyeli PirinÃ§ PilavÄ±", recipe: "Åehriyeyi kavur, yÄ±kanmÄ±ÅŸ pirinci ekle. 1 bardak pirince 1.5 bardak sÄ±cak su, tuz ve 2 damla limon sÄ±k. Demlenmeye bÄ±rak." },
                dessert: { name: "FÄ±rÄ±n SÃ¼tlaÃ§", recipe: "Pirinci haÅŸla. SÃ¼t, ÅŸeker ve niÅŸastayÄ± ekleyip piÅŸir. Kaselere koy, fÄ±rÄ±nÄ±n sadece Ã¼stÃ¼nÃ¼ aÃ§Ä±p Ã¼zerini kÄ±zart." },
                drink: { name: "Reyhan Åerbeti", recipe: "Mor reyhanÄ± sÄ±cak suya koy, ÅŸeker ve limon tuzu ekle. Rengi suya Ã§Ä±kÄ±nca sÃ¼z. SoÄŸuyunca mis gibi olur." },
                tip: "Reyhan ÅŸerbetine atacaÄŸÄ±n bir tane karanfil, ferahlÄ±ÄŸÄ± ikiye katlar.",
            },
            {
                soup: { name: "Lebeniye Ã‡orbasÄ±", recipe: "Nohut ve buÄŸdayÄ± haÅŸla. KÃ¶fteleri minik yuvarlayÄ±p kÄ±zart. YoÄŸurt, un ve yumurta ile terbiye yapÄ±p hepsini karÄ±ÅŸtÄ±r." },
                main: { name: "Orman KebabÄ±", recipe: "KuÅŸbaÅŸÄ± eti dÃ¼dÃ¼klÃ¼de piÅŸir. Patates, havuÃ§ ve bezelyeyi kÃ¼p doÄŸrayÄ±p ekle. SalÃ§alÄ± suyla sebzeler yumuÅŸayana kadar piÅŸir." },
                side: { name: "Bulgur PilavÄ±", recipe: "SoÄŸan ve biberi kavur, salÃ§a ekle. Bulguru koy, Ã¼zerini geÃ§ecek kadar sÄ±cak su ve tuz at. Suyunu Ã§ekene kadar piÅŸir." },
                dessert: { name: "KalburabastÄ±", recipe: "Hamuru yoÄŸur, rende Ã¼zerinde ÅŸekil verip fÄ±rÄ±nla. SÄ±cak tatlÄ±ya soÄŸuk ÅŸerbet dÃ¶k." },
                drink: { name: "Naneli Ayran", recipe: "YoÄŸurdu suyla Ã§Ä±rp. Ä°Ã§ine kuru nane ve azÄ±cÄ±k tuz at. Bol kÃ¶pÃ¼klÃ¼ olsun." },
                tip: "Orman kebabÄ±nda bezelyeyi en son eklersen daÄŸÄ±lmaz, rengi canlÄ± kalÄ±r.",
            },
            {
                soup: { name: "Ezogelin Ã‡orbasÄ±", recipe: "Mercimek, pirinÃ§, bulguru haÅŸla. AyrÄ± tavada soÄŸan, nane ve salÃ§ayÄ± kavurup Ã§orbaya dÃ¶k. Ã–zleÅŸene kadar kaynat." },
                main: { name: "HasanpaÅŸa KÃ¶ftesi", recipe: "KÃ¶fteleri Ã§anak ÅŸeklinde yapÄ±p fÄ±rÄ±nla. OrtasÄ±na patates pÃ¼resi sÄ±k, tekrar fÄ±rÄ±nla. En son salÃ§alÄ± sos dÃ¶k." },
                side: { name: "GavurdaÄŸÄ± SalatasÄ±", recipe: "Domates, biber, soÄŸanÄ± Ã§ok kÃ¼Ã§Ã¼k (zÄ±rh) doÄŸra. Bol ceviz, nar ekÅŸisi, zeytinyaÄŸÄ± ve sumakla harmanla." },
                dessert: { name: "TrileÃ§e (Karamelli)", recipe: "PandispanyayÄ± piÅŸir. SÃ¼t, krema ve ÅŸekerle Ä±slat. Ãœzerine hazÄ±r karamel sos veya ev yapÄ±mÄ± karamel dÃ¶k." },
                drink: { name: "KÄ±zÄ±lcÄ±k Åerbeti", recipe: "KÄ±zÄ±lcÄ±klarÄ± kaynat, sÃ¼zgeÃ§ten geÃ§irip posasÄ±nÄ± al. Åekerle tatlandÄ±rÄ±p soÄŸut." },
                tip: "KÃ¶ftelerin ortasÄ±nÄ± Ã§ukur yapÄ±p pÃ¼reyi oraya sÄ±karsan sunumun restoran kalitesinde olur.",
            },
            {
                soup: { name: "TutmaÃ§ Ã‡orbasÄ±", recipe: "YeÅŸil mercimeÄŸi haÅŸla, eriÅŸteyi ekle. YoÄŸurtlu terbiye yapÄ±p baÄŸla. Ãœzerine bol naneli yaÄŸ gezdir." },
                main: { name: "PiliÃ§ TopkapÄ±", recipe: "Kemiksiz tavuk budunu aÃ§. Ä°Ã§ine kuÅŸ Ã¼zÃ¼mlÃ¼ iÃ§ pilav koyup sar. FÄ±rÄ±n poÅŸetinde veya tepside nar gibi kÄ±zart." },
                side: { name: "YoÄŸurtlu Semizotu", recipe: "Semizotunu yÄ±ka, doÄŸra (saplarÄ±yla). SarÄ±msaklÄ± yoÄŸurtla karÄ±ÅŸtÄ±r. Ãœzerine pul biber serp." },
                dessert: { name: "KeÅŸkÃ¼l-Ã¼ Fukara", recipe: "SÃ¼t, ÅŸeker, pirinÃ§ unu ve toz bademi piÅŸir. Kaselere dÃ¶k. ÃœstÃ¼ne file badem veya fÄ±stÄ±k serp." },
                drink: { name: "Demirhindi Åerbeti", recipe: "Aktardan alacaÄŸÄ±n demirhindiyi suda beklet, kaynat. Ä°Ã§ine tarÃ§Ä±n, karanfil at. SÃ¼zÃ¼p soÄŸut." },
                tip: "Tavuk butlarÄ±nÄ± aÃ§tÄ±rÄ±p iÃ§ pilavla doldurmak, bÃ¼tÃ¼n tavuktan daha ekonomik ve ÅŸÄ±ktÄ±r.",
            },
            {
                soup: { name: "KaÅŸarlÄ± Domates Ã‡orbasÄ±", recipe: "Unu tereyaÄŸÄ±nda kokusu Ã§Ä±kana kadar kavur. SalÃ§a ve rendelenmiÅŸ domates ekle. SÃ¼t ve suyla aÃ§. KaÅŸarla servis et." },
                main: { name: "Ali Nazik", recipe: "KÃ¶z patlÄ±canÄ± sÃ¼zme yoÄŸurt ve sarÄ±msakla karÄ±ÅŸtÄ±r. Ãœzerine kavrulmuÅŸ kÄ±ymalÄ± sos dÃ¶k." },
                side: { name: "TÄ±rnak Pidesi", recipe: "FÄ±rÄ±ndan hazÄ±r alÄ±p Ä±sÄ±t veya evde un-su-maya ile hamur yapÄ±p tÄ±rnak ÅŸekli vererek piÅŸir." },
                dessert: { name: "Sultan SarmasÄ±", recipe: "Kakaolu muhallebi yap. Hindistan cevizi serpilmiÅŸ tepsiye dÃ¶k. SoÄŸuyunca krem ÅŸanti sÃ¼r, rulo yap." },
                drink: { name: "Naneli Limonata", recipe: "Limon kabuklarÄ±nÄ± ÅŸekerle ov. Suyunu sÄ±k, su ekle. Taze nane yapraklarÄ±yla bekletip sÃ¼z." },
                tip: "Ali Nazik yoÄŸurduna mutlaka sarÄ±msak ve azÄ±cÄ±k sÃ¼zme yoÄŸurt ekle, kÄ±vamÄ± koyu olsun.",
            },
            {
                soup: { name: "Anadolu Ã‡orbasÄ±", recipe: "BuÄŸday, nohut, mercimeÄŸi haÅŸla. SalÃ§alÄ±, soÄŸanlÄ±, naneli sos yapÄ±p karÄ±ÅŸtÄ±r. Doyurucu bir kÄ±ÅŸ Ã§orbasÄ±." },
                main: { name: "FÄ±rÄ±nda Sebzeli Dizme", recipe: "KÃ¶fte, patates, patlÄ±canÄ± halka doÄŸra. Tepsiye sÄ±rayla (bir sebze bir kÃ¶fte) diz. SalÃ§alÄ± su dÃ¶kÃ¼p fÄ±rÄ±nla." },
                side: { name: "CacÄ±k", recipe: "SalatalÄ±klarÄ± rendeleme, minik kÃ¼p doÄŸra (sulanmasÄ±n). SÃ¼zme yoÄŸurt, sarÄ±msak, kuru nane ve az zeytinyaÄŸÄ± ekle." },
                dessert: { name: "Revani", recipe: "Yumurta, ÅŸeker, yoÄŸurt, irmik ve unu Ã§Ä±rp piÅŸir. FÄ±rÄ±ndan Ã§Ä±kÄ±nca soÄŸuk ÅŸerbeti dÃ¶k." },
                drink: { name: "Hibiskus Åerbeti", recipe: "Kuru hibiskusu sÄ±cak suya at (rengi hemen Ã§Ä±kar). Åeker, Ã§ubuk tarÃ§Ä±n ve limon ekle. SoÄŸuk iÃ§." },
                tip: "Hibiskus ÅŸerbetine tarÃ§Ä±n Ã§ubuÄŸu atarsan rengi yakut gibi, kokusu mis gibi olur.",
            },
            {
                soup: { name: "Yayla Ã‡orbasÄ±", recipe: "Pirinci haÅŸla. YoÄŸurt, yumurta, unla terbiye yap. Kesilmemesi iÃ§in Ã§orba suyundan terbiyeye ekle, Ä±lÄ±ÅŸtÄ±rÄ±p dÃ¶k." },
                main: { name: "Etli Kuru Fasulye", recipe: "Fasulyeyi akÅŸamdan Ä±slat. SoÄŸan ve eti kavur, salÃ§a ekle. Fasulyeyi ve sÄ±cak suyu koy, kÄ±sÄ±k ateÅŸte piÅŸir." },
                side: { name: "PirinÃ§ PilavÄ± & TurÅŸu", recipe: "Pirinci sÄ±cak suda beklet. TereyaÄŸÄ±nda kavur. Bire bir buÃ§uk Ã¶lÃ§Ã¼ sÄ±cak suyla piÅŸir. YanÄ±na korniÅŸon turÅŸu." },
                dessert: { name: "Tahinli Kabak TatlÄ±sÄ±", recipe: "KabaklarÄ± ÅŸekerle beklet, kendi suyuyla yumuÅŸayana kadar piÅŸir. Serviste bol tahin ve ceviz dÃ¶k." },
                drink: { name: "ÃœzÃ¼m HoÅŸafÄ±", recipe: "Kuru Ã¼zÃ¼mleri yÄ±ka, su ve ÅŸekerle kaynat. SoÄŸuyunca kaselere paylaÅŸtÄ±r." },
                tip: "Kabak tatlÄ±sÄ±nÄ± piÅŸirirken ÅŸekeri bir gece Ã¶nceden dÃ¶kÃ¼p bekletirsen su eklemene gerek kalmaz.",
            },
            {
                soup: { name: "Tarhana Ã‡orbasÄ±", recipe: "TarhanayÄ± soÄŸuk suda erit. SalÃ§a, nane ve sarÄ±msaÄŸÄ± kavur. TarhanalÄ± suyu ekle, koyulaÅŸana kadar karÄ±ÅŸtÄ±r." },
                main: { name: "Tepsi KebabÄ±", recipe: "KÄ±yma, soÄŸan, biber, maydanoz ve baharatÄ± yoÄŸur. Tepsiye incecik yay. Ãœzerine domates biber diz, fÄ±rÄ±nla." },
                side: { name: "SoÄŸan PiyazÄ±", recipe: "SoÄŸanlarÄ± piyazlÄ±k doÄŸra, tuzla ov (acÄ±sÄ± Ã§Ä±ksÄ±n). Sumak, maydanoz ve zeytinyaÄŸÄ± ile karÄ±ÅŸtÄ±r." },
                dessert: { name: "YalancÄ± KÃ¼nefe", recipe: "KadayÄ±fÄ± tereyaÄŸÄ±yla harmanla. Tavaya yarÄ±sÄ±nÄ± bas, araya dil peyniri koy, kalanÄ± bas. Ä°ki yÃ¼zÃ¼nÃ¼ de kÄ±zart, ÅŸerbetle." },
                drink: { name: "Åalgam Suyu", recipe: "HazÄ±r alacaksan acÄ±lÄ±/acÄ±sÄ±z tercihine dikkat et. Evde yapmak zor, fermente olmasÄ± gerekir." },
                tip: "Tepsi kebabÄ±nÄ±n harcÄ±na kuyruk yaÄŸÄ± veya tereyaÄŸÄ± parÃ§alarÄ± koyarsan kurumaz.",
            },
            {
                soup: { name: "KremalÄ± Mantar Ã‡orbasÄ±", recipe: "MantarlarÄ± ince doÄŸra, sotele. Unu kavur, sÃ¼t ve su ekle. KaynayÄ±nca mantarlarÄ± at. Arzuya gÃ¶re krema ekle." },
                main: { name: "KÄ±ymalÄ± KarnÄ±yarÄ±k", recipe: "PatlÄ±canlarÄ± alacalÄ± soy, kÄ±zart. OrtasÄ±nÄ± aÃ§. SoÄŸanlÄ± kÄ±ymalÄ± harcÄ± doldur. SalÃ§alÄ± suyla fÄ±rÄ±nla veya tencerede piÅŸir." },
                side: { name: "Åehriye PilavÄ±", recipe: "Arpa ÅŸehriyeyi tereyaÄŸÄ±nda rengi dÃ¶nene kadar kavur. SÄ±cak su ekle, suyunu Ã§ekene kadar piÅŸir." },
                dessert: { name: "SakÄ±zlÄ± Muhallebi", recipe: "SÃ¼t, un, ÅŸeker ve niÅŸastayÄ± piÅŸir. Ä°nmeye yakÄ±n damla sakÄ±zÄ± at. Mikserle 5 dk Ã§Ä±rp ki sakÄ±z gibi uzasÄ±n." },
                drink: { name: "ViÅŸne Åerbeti", recipe: "DondurulmuÅŸ veya taze viÅŸneyi ÅŸekerle kaynat. SÃ¼zÃ¼p soÄŸut." },
                tip: "KarnÄ±yarÄ±ÄŸÄ±n sosuna bir tutam ÅŸeker atarsan domatesin ekÅŸiliÄŸini alÄ±r.",
            },
            {
                soup: { name: "DÃ¼ÄŸÃ¼n Ã‡orbasÄ±", recipe: "Gerdan etini haÅŸla, didik. Suyuna un ve yoÄŸurtlu terbiye yap. Eti geri ekle. Ãœzerine tereyaÄŸlÄ± biber yak." },
                main: { name: "KadÄ±nbudu KÃ¶fte", recipe: "KÄ±ymanÄ±n yarÄ±sÄ±nÄ± kavur, yarÄ±sÄ± Ã§iÄŸ kalsÄ±n. HaÅŸlanmÄ±ÅŸ pirinÃ§le yoÄŸur. Galeta ununa ve yumurtaya bulayÄ±p kÄ±zart." },
                side: { name: "Piyaz & Patates", recipe: "HaÅŸlanmÄ±ÅŸ fasulye, soÄŸan, sirke, zeytinyaÄŸÄ±. YanÄ±na elma dilim patates kÄ±zartmasÄ±." },
                dessert: { name: "Ä°rmik HelvasÄ±", recipe: "Ä°rmiÄŸi ve fÄ±stÄ±ÄŸÄ± tereyaÄŸÄ±nda rengi koyulaÅŸana kadar (sabÄ±rla) kavur. SÄ±cak ÅŸerbeti dÃ¶k, kapaÄŸÄ±nÄ± kapat demlensin." },
                drink: { name: "OsmanlÄ± Åerbeti", recipe: "TarÃ§Ä±n, karanfil, zencefil, hibiskus ve ÅŸekeri kaynat. Tam bir ÅŸifa deposudur." },
                tip: "KadÄ±nbudu kÃ¶fte yaparken pirinci tam deÄŸil, hafif diri haÅŸla ki kÃ¶fte iÃ§inde lapa olmasÄ±n.",
            },
            {
                soup: { name: "Lokanta UsulÃ¼ Mercimek", recipe: "SarÄ± mercimek, patates, soÄŸan. Hepsini haÅŸla, blenderdan geÃ§ir, sÃ¼zgeÃ§ten sÃ¼z (pÃ¼rÃ¼zsÃ¼z olsun). Limonla servis et." },
                main: { name: "Sultan KebabÄ± (YufkalÄ±)", recipe: "Tavuklu bezelyeli harÃ§ hazÄ±rla. YufkayÄ± kaseye koy, harcÄ± doldur, kapat, ters Ã§evir. Ãœzerine beÅŸamel sos dÃ¶k fÄ±rÄ±nla." },
                side: { name: "Haydari", recipe: "SÃ¼zme yoÄŸurt, ezilmiÅŸ beyaz peynir, sarÄ±msak, kuru nane ve dereotu. KarÄ±ÅŸtÄ±r, Ã¼zerine zeytinyaÄŸÄ± gezdir." },
                dessert: { name: "Supangle", recipe: "SÃ¼tlÃ¼ kakaolu muhallebi yap. Kasenin dibine kek parÃ§asÄ± koy, Ã¼stÃ¼ne muhallebiyi dÃ¶k." },
                drink: { name: "Meyve Kompostosu", recipe: "Evdeki karÄ±ÅŸÄ±k meyveleri (elma, armut) kÃ¼p doÄŸra, ÅŸekerli suyla hafif yumuÅŸayana kadar piÅŸir." },
                tip: "YufkalarÄ± beÅŸamel sosla kapatÄ±rsan fÄ±rÄ±nda nar gibi kÄ±zarÄ±r.",
            },
            {
                soup: { name: "Sebze Ã‡orbasÄ±", recipe: "Kabak, havuÃ§, patatesi rendele, az yaÄŸda Ã§evir. Un serpip kavur, su ve sÃ¼t ekle. Dereotu ile servis et." },
                main: { name: "Tavuklu Ã‡Ã¶kertme", recipe: "Kibrit patatesleri kÄ±zart. Ãœzerine sarÄ±msaklÄ± yoÄŸurt dÃ¶k. En Ã¼ste jÃ¼lyen doÄŸranmÄ±ÅŸ soslu tavuklarÄ± koy." },
                side: { name: "Roka SalatasÄ±", recipe: "Roka, domates, ceviz ve tulum peyniri. Sosu iÃ§in balzamik sirke ve zeytinyaÄŸÄ±." },
                dessert: { name: "Kazandibi", recipe: "Tepsiye pudra ÅŸekeri serpip yak (karamelize et). Muhallebiyi Ã¼zerine dÃ¶k. SoÄŸuyunca spatula ile kazÄ±yarak rulo yap." },
                drink: { name: "Koruk Åerbeti", recipe: "Koruk (olmamÄ±ÅŸ Ã¼zÃ¼m) suyunu sÄ±k, su ve ÅŸekerle karÄ±ÅŸtÄ±r. EkÅŸimsi harika bir tadÄ± vardÄ±r." },
                tip: "Patatesleri kibrit Ã§Ã¶pÃ¼ kadar ince doÄŸrayÄ±p kÄ±zartÄ±rsan Ã§Ä±tÄ±r Ã§Ä±tÄ±r olur.",
            },
            {
                soup: { name: "Yuvalama Ã‡orbasÄ±", recipe: "Zahmetlidir ama hazÄ±r yuvalama alabilirsin. Nohut ve etle piÅŸir, sÃ¼zme yoÄŸurtlu naneli sos yap." },
                main: { name: "Biber DolmasÄ±", recipe: "PirinÃ§, soÄŸan, salÃ§a, nane, kuÅŸ Ã¼zÃ¼mÃ¼ ile iÃ§ hazÄ±rla. Biberleri doldur. Tencereye diz, yarÄ±sÄ±na kadar suyla piÅŸir." },
                side: { name: "YoÄŸurt", recipe: "Ev yoÄŸurdu veya tava yoÄŸurdu. DolmanÄ±n en iyi eÅŸlikÃ§isidir." },
                dessert: { name: "Åekerpare", recipe: "Hamuru yoÄŸur, yuvarlak yap, ortasÄ±na fÄ±ndÄ±k batÄ±r. FÄ±rÄ±nla. Åerbeti sÄ±cak dÃ¶k." },
                drink: { name: "Erik Åerbeti", recipe: "MÃ¼rdÃ¼m eriÄŸi veya kÄ±rmÄ±zÄ± eriÄŸi kaynat, sÃ¼z. Rengi kÄ±pkÄ±rmÄ±zÄ± olur." },
                tip: "DolmalarÄ±n iÃ§ine bir tutam nane ve kuÅŸ Ã¼zÃ¼mÃ¼, lezzeti bambaÅŸka bir seviyeye taÅŸÄ±r.",
            },
            {
                soup: { name: "Bamya Ã‡orbasÄ±", recipe: "Konya usulÃ¼; kuru bamyalarÄ± haÅŸla (ipleri temizle). KuÅŸbaÅŸÄ± etle limonlu suyun iÃ§inde piÅŸir." },
                main: { name: "Belan Tava", recipe: "Kuzu eti, sarÄ±msak, biber, domates ve kuyruk yaÄŸÄ±nÄ± tavaya diz. TaÅŸ fÄ±rÄ±nda veya ev fÄ±rÄ±nÄ±nda aÄŸÄ±r aÄŸÄ±r piÅŸir." },
                side: { name: "Bulgur PilavÄ±", recipe: "Ä°ri bulguru (baÅŸbaÅŸÄ±) tereyaÄŸÄ±nda Ã§evir, et suyuyla piÅŸir." },
                dessert: { name: "Halka TatlÄ±sÄ±", recipe: "Sokak lezzetidir, evde yapmak zordur. HazÄ±r alÄ±p Ã§Ä±tÄ±r Ã§Ä±tÄ±r yiyebilirsin." },
                drink: { name: "KÃ¶pÃ¼klÃ¼ Ayran", recipe: "Maden suyu (soda) ile yoÄŸurdu Ã§Ä±rparsan inanÄ±lmaz kabarÄ±r." },
                tip: "BamyalarÄ±n sÃ¼nmemesi iÃ§in limonlu suda bekletip Ã¶yle piÅŸir.",
            }
        ];

        // --- STATE DEÄÄ°ÅKENLERÄ° ---
        let state = {
            peopleCount: 2,
            budget: '',
            menuIndex: 0,
            noteIndex: 0
        };

        // --- DOM ELEMENTLERÄ° ---
        const els = {
            step1: document.getElementById('step1'),
            step2: document.getElementById('step2'),
            peopleRange: document.getElementById('peopleRange'),
            peopleCountDisplay: document.getElementById('peopleCountDisplay'),
            budgetInput: document.getElementById('budgetInput'),
            calcBtn: document.getElementById('calcBtn'),
            menuContainer: document.getElementById('menuContainer'),
            resPeople: document.getElementById('resPeople'),
            resCost: document.getElementById('resCost'),
            resDonation: document.getElementById('resDonation'),
            donationSection: document.getElementById('donationSection'),
            spiritualNote: document.getElementById('spiritualNote'),
            whatsappBtn: document.getElementById('whatsappBtn'),
            resetBtn: document.getElementById('resetBtn'),
            refreshMenuBtn: document.getElementById('refreshMenuBtn'),
            recipeModal: document.getElementById('recipeModal'),
            modalTitle: document.getElementById('modalTitle'),
            modalDesc: document.getElementById('modalDesc'),
            closeModalBtn: document.getElementById('closeModalBtn'),
            closeModalMainBtn: document.getElementById('closeModalMainBtn'),
            nudge: document.getElementById('nudge'),
            currentDateDisplay: document.getElementById('currentDateDisplay')
        };

        // --- BAÅLANGIÃ‡ AYARLARI ---
        function init() {
            // Tarih
            const today = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            els.currentDateDisplay.textContent = today.toLocaleDateString('tr-TR', options);

            // Ä°konlarÄ± oluÅŸtur
            lucide.createIcons();

            // Event Listeners
            els.peopleRange.addEventListener('input', (e) => {
                state.peopleCount = parseInt(e.target.value);
                els.peopleCountDisplay.textContent = state.peopleCount;
            });

            els.budgetInput.addEventListener('input', (e) => {
                state.budget = e.target.value;
                if(state.budget && state.budget > 0) {
                    els.calcBtn.disabled = false;
                } else {
                    els.calcBtn.disabled = true;
                }
            });

            els.calcBtn.addEventListener('click', handleCalculate);
            els.resetBtn.addEventListener('click', handleReset);
            els.refreshMenuBtn.addEventListener('click', refreshMenu);
            els.whatsappBtn.addEventListener('click', shareOnWhatsApp);
            
            // Modal Kapatma
            els.closeModalBtn.addEventListener('click', closeModal);
            els.closeModalMainBtn.addEventListener('click', closeModal);
            els.recipeModal.addEventListener('click', (e) => {
                if(e.target === els.recipeModal) closeModal();
            });
        }

        // --- FONKSÄ°YONLAR ---
        function handleCalculate() {
            if (!state.budget || state.budget <= 0) return;

            // Rastgele SeÃ§im
            state.menuIndex = Math.floor(Math.random() * MENU_DATABASE.length);
            state.noteIndex = Math.floor(Math.random() * SPIRITUAL_NOTES.length);

            renderStep2();

            // Ekran GeÃ§iÅŸi
            els.step1.classList.add('hidden');
            els.step2.classList.remove('hidden');
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // Nudge (UyarÄ±) GÃ¶sterimi
            const totalCost = state.peopleCount * MODEST_MEAL_COST_PER_PERSON;
            const userBudget = parseFloat(state.budget);
            const isSurplus = (userBudget - totalCost) > 50;

            if(isSurplus) {
                els.nudge.classList.remove('hidden');
                setTimeout(() => {
                    els.nudge.classList.add('hidden');
                }, 4000);
            }
        }

        function handleReset() {
            state.budget = '';
            els.budgetInput.value = '';
            els.calcBtn.disabled = true;
            
            els.step2.classList.add('hidden');
            els.step1.classList.remove('hidden');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function refreshMenu() {
            state.menuIndex = (state.menuIndex + 1) % MENU_DATABASE.length;
            renderMenu();
            renderIcons(); // Ä°konlarÄ± tekrar oluÅŸtur
        }

        function renderStep2() {
            // Hesaplama
            const totalCost = state.peopleCount * MODEST_MEAL_COST_PER_PERSON;
            const userBudget = parseFloat(state.budget);
            const donationAmount = userBudget - totalCost;
            
            // Metinler
            els.resPeople.textContent = `${state.peopleCount} kiÅŸilik`;
            els.resCost.textContent = `${totalCost} TL`;
            els.resDonation.textContent = `${donationAmount} TL`;
            els.spiritualNote.textContent = `"${SPIRITUAL_NOTES[state.noteIndex]}"`;

            // BaÄŸÄ±ÅŸ BÃ¶lÃ¼mÃ¼ GÃ¶rÃ¼nÃ¼rlÃ¼ÄŸÃ¼
            if(donationAmount > 50) {
                els.donationSection.classList.remove('hidden');
            } else {
                els.donationSection.classList.add('hidden');
            }

            renderMenu();
            renderIcons();
        }

        function renderMenu() {
            const menu = MENU_DATABASE[state.menuIndex];
            els.menuContainer.innerHTML = '';

            const createRow = (iconName, label, item, highlight = false) => {
                const div = document.createElement('div');
                div.className = `group flex items-center justify-between p-2 rounded-xl cursor-pointer hover:bg-slate-50 transition-all border border-transparent hover:border-orange-100 active:scale-[0.98] ${highlight ? 'bg-orange-50/50' : ''}`;
                div.onclick = () => openModal(item);
                
                div.innerHTML = `
                    <div class="flex items-center gap-3">
                        <div class="text-xl bg-white w-10 h-10 flex items-center justify-center rounded-full border border-slate-100 shadow-sm group-hover:border-orange-200 transition-colors">
                             ${getEmojiOrIcon(iconName)}
                        </div>
                        <div>
                            <span class="text-xs font-bold text-slate-400 block uppercase tracking-wide">${label}</span>
                            <span class="text-sm font-bold ${highlight ? 'text-emerald-700' : 'text-slate-800'}">${item.name}</span>
                        </div>
                    </div>
                    <i data-lucide="chevron-right" class="w-4 h-4 text-slate-300 group-hover:text-orange-400 transition-colors"></i>
                `;
                return div;
            };

            els.menuContainer.appendChild(createRow('soup', 'Ã‡orba', menu.soup));
            els.menuContainer.appendChild(createRow('drumstick', 'Ana Yemek', menu.main));
            els.menuContainer.appendChild(createRow('bowl-steam', 'Yan Lezzet', menu.side));
            els.menuContainer.appendChild(createRow('glass-water', 'Ä°Ã§ecek', menu.drink, true));
            els.menuContainer.appendChild(createRow('cookie', 'TatlÄ±', menu.dessert));

            // Ä°pucu
            const tipDiv = document.createElement('div');
            tipDiv.className = "bg-slate-50 p-3 rounded-xl border border-slate-200 text-xs text-slate-500 italic flex gap-2 mt-4";
            tipDiv.innerHTML = `<span class="text-lg not-italic">ğŸ’¡</span> ${menu.tip}`;
            els.menuContainer.appendChild(tipDiv);
        }

        // Basit Emoji/Icon mapping (Lucide icon names or emojis)
        function getEmojiOrIcon(type) {
             // Lucide ikonlarÄ±nÄ± HTML string olarak dÃ¶ndÃ¼rÃ¼r
             // Not: lucide.createIcons() Ã§aÄŸrÄ±ldÄ±ÄŸÄ±nda data-lucide attribute'u svg'ye dÃ¶nÃ¼ÅŸÃ¼r.
             if(type === 'soup') return '<i data-lucide="soup" class="w-5 h-5 text-slate-600"></i>';
             if(type === 'drumstick') return '<i data-lucide="drumstick" class="w-5 h-5 text-slate-600"></i>';
             if(type === 'bowl-steam') return '<i data-lucide="utensils-crossed" class="w-5 h-5 text-slate-600"></i>'; // Bowl yoksa alternatif
             if(type === 'glass-water') return '<i data-lucide="glass-water" class="w-5 h-5 text-emerald-600"></i>';
             if(type === 'cookie') return '<i data-lucide="cookie" class="w-5 h-5 text-slate-600"></i>';
             return '';
        }

        function renderIcons() {
            setTimeout(() => {
                lucide.createIcons();
            }, 0);
        }

        // --- MODAL Ä°ÅLEMLERÄ° ---
        function openModal(item) {
            els.modalTitle.innerHTML = `<i data-lucide="chef-hat" class="w-5 h-5 text-orange-500 mr-2"></i> ${item.name}`;
            els.modalDesc.textContent = item.recipe;
            els.recipeModal.classList.remove('hidden');
            renderIcons();
        }

        function closeModal() {
            els.recipeModal.classList.add('hidden');
        }

        // --- WHATSAPP ---
        function shareOnWhatsApp() {
            const menu = MENU_DATABASE[state.menuIndex];
            const totalCost = state.peopleCount * MODEST_MEAL_COST_PER_PERSON;
            
            const message = `Selamun Aleykum,\n\nRamazan Bereketi ile hesapladim:\nBu aksam ${state.peopleCount} kisi icin zengin bir iftar sofrasi yaklasik ${totalCost} TL tutuyor.\n\nArtan paramizla da bir iyilik yapabiliriz insallah.\n\n*Gunun Menusu:*\n- ${menu.soup.name}\n- ${menu.main.name}\n- ${menu.side.name}\n- ${menu.drink.name}\n- ${menu.dessert.name}\n\nAfiyet, bereket olsun.`;
            
            const url = `https://wa.me/?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
        }

        // BaÅŸlat
        init();

    </script>
</body>
</html>

